<div class="row">
  <div class="col">
    {{translation.language.name}}
  </div>
  <div class="col">
    <span class="badge badge-secondary" *ngIf="!translation.is_published && !translation.none">{{translation.version}} | Draft</span>
    <span class="badge badge-success" *ngIf="translation.is_published">{{translation.version}} | Live</span>
    <span class="badge badge-warning" *ngIf="translation.none">None</span>
  </div>
  <div class="col">
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-secondary" *ngIf="!customManifest" (click)="editCustomManifest()">
        <i class="fa fa-plus"></i> Add
      </button>
      <button type="button" class="btn btn-primary" *ngIf="customManifest" (click)="editCustomManifest()">
        <i class="fa fa-edit"></i> Edit
      </button>
      <button type="button" class="btn btn-danger" *ngIf="customManifest" (click)="deleteCustomManifest()">
        <i class="fa fa-trash"></i> Remove
      </button>
    </div>
  </div>
  <div class="col">
    <div class="btn-group" role="group">
      <button (click)="openResourceLanguage(); $event.stopPropagation()" class="btn btn-primary">
        <i class="fa fa-pencil"></i> Details
      </button>
      <button *ngIf="!translation.is_published && !translation.none" type="button" (click)="publishDraft()" class="btn btn-success">
        <i class="fa fa-cloud-upload"></i> Publish
      </button>
    </div>
    <div class="btn-group" role="group">
      <button (click)="showPages()" *ngIf="!translation.is_published && !translation.show && !translation.none" type="button" class="btn btn-warning">
        <i class="fa fa-chevron-down"></i> Show pages
      </button>
      <button (click)="hidePages()" *ngIf="!translation.is_published && translation.show && !translation.none" type="button" class="btn btn-warning">
        <i class="fa fa-chevron-up"></i> Hide pages
      </button>
      <button (click)="showTips()" *ngIf="!translation.is_published && !translation.showTips && !translation.none" type="button" class="btn btn-warning">
        <i class="fa fa-chevron-down"></i> Show tips
      </button>
      <button (click)="hideTips()" *ngIf="!translation.is_published && translation.showTips && !translation.none" type="button" class="btn btn-warning">
        <i class="fa fa-chevron-up"></i> Hide tips
      </button>
    </div>
    <button *ngIf="translation.is_published || translation.none" (click)="createDraft()" class="btn btn-secondary">
      <i class="fa fa-plus"></i> New Draft
    </button>
  </div>
</div>

<div class="row">
  <div class="col">
    <ngb-alert type="success" [dismissible]="false" *ngIf="publishing">
      Publishing...
    </ngb-alert>
  </div>
</div>
<div class="row">
  <div class="col">
    <ngb-alert type="info" [dismissible]="false" *ngIf="saving">
      Saving...
    </ngb-alert>
  </div>
</div>
<div class="row">
  <div class="col">
    <ngb-alert type="danger" [dismissible]="false" *ngIf="errorMessage">
      {{errorMessage}}
    </ngb-alert>
  </div>
</div>

<div class="row mt-3" *ngIf="translation.show">
  <div class="col">
    <table class="table border border-dark">
      <thead class="thead-dark">
        <tr>
          <th colspan="2">{{translation.language.name}} Page Customizations</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let page of getPages();trackBy: pagesTrackBy" [ngSwitch]="page['_type']">
          <td>{{getBasePage(page).filename}}</td>
          <td>
            <div class="container">
              <div class="float-right">
                <ng-container *ngSwitchCase="'page'">
                  <button (click)="createCustomPage(page)" class="btn btn-primary" data-action="create">
                    <i class="fa fa-plus"></i> Create
                  </button>
                </ng-container>
                <ng-container *ngSwitchCase="'custom-page'">
                  <button (click)="openCustomPage(page)" class="btn btn-outline-dark" data-action="edit">
                    <i class="fa fa-pencil"></i> Edit
                  </button>
                  <button (click)="deleteCustomPage(page)" class="btn btn-danger" data-action="delete">
                    <i class="fa fa-times"></i> Remove
                  </button>
                </ng-container>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="row mt-3" *ngIf="translation.showTips">
  <div class="col">
    <table class="table border border-dark">
      <thead class="thead-dark">
        <tr>
          <th colspan="2">{{translation.language.name}} Tip Customizations</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tip of getTips();trackBy: tipsTrackBy" [ngSwitch]="tip['_type']">
          <td>{{getBaseTip(tip).name}}</td>
          <td>
            <div class="container">
              <div class="float-right">
                <ng-container *ngSwitchCase="'tip'">
                  <button (click)="createCustomTip(tip)" class="btn btn-primary" data-action="create">
                    <i class="fa fa-plus"></i> Create
                  </button>
                </ng-container>
                <ng-container *ngSwitchCase="'custom-tip'">
                  <button (click)="openCustomTip(tip)" class="btn btn-outline-dark" data-action="edit">
                    <i class="fa fa-pencil"></i> Edit
                  </button>
                  <button (click)="deleteCustomTip(tip)" class="btn btn-danger" data-action="delete">
                    <i class="fa fa-times"></i> Remove
                  </button>
                </ng-container>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<hr>
